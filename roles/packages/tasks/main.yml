---
- name: install debian tools
  become: yes
  apt: 
    name:
      - bat
      - curl
      # - fd-find
      # - fzf
      - htop
      - jq
      - nodejs
      - ripgrep
      - tldr
      - tmux
      - wget
      - zsh
      - ninja-build 
      - gettext 
      - libtool 
      - libtool-bin 
      - autoconf 
      - automake 
      - cmake 
      - g++ 
      - pkg-config 
      - unzip 
      - doxygen
  when: ansible_os_family == "Debian"
  tags: 
    - all packages

- name: install redhat tools
  become: yes
  yum: 
    name:
      # - bat
      - curl
      # - fd-find
      # - fzf
      - htop
      - jq
      - nodejs
      - ripgrep
      - tmux
      - wget
      - zsh
      - ninja-build 
      - libtool 
      - autoconf 
      - automake 
      - cmake 
      - gcc 
      - gcc-c++ 
      - make 
      - pkgconfig 
      - unzip 
      - patch 
      - gettext 
  when: ansible_os_family == "RedHat"
  tags: 
    - all packages

- name: install lazygit 
  become: yes
  shell: |
    LAZYGIT_VERSION=$(curl -s "https://api.github.com/repos/jesseduffield/lazygit/releases/latest" | grep -Po '"tag_name": "v\K[^"]*')
    curl -Lo lazygit.tar.gz "https://github.com/jesseduffield/lazygit/releases/latest/download/lazygit_${LAZYGIT_VERSION}_Linux_x86_64.tar.gz"
    tar xf lazygit.tar.gz lazygit
    install lazygit /usr/local/bin
    rm -rf lazygit*
  tags: 
    - lazygit
    - allpackages

- name: download fzf 
  become: yes 
  git: 
    repo: "https://github.com/junegunn/fzf.git"
    dest: "{{ dotfiles_user_home }}/.fzf"
    version: HEAD # latest
  tags: 
    - fzf
    - allpackages

- name: install fzf 
  shell: "{{ dotfiles_user_home }}/.fzf/install --all"
  tags: 
    - fzf 
    - allpackages

- name: install zoxide
  shell: "curl -sS https://raw.githubusercontent.com/ajeetdsouza/zoxide/main/install.sh | bash"
  tags: 
    - zoxide
    - allpackages
